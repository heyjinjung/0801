# Casino-Club F2P 통합/정비 가이드 (2025-08-08)

## 1. 현황 및 문제 요약

- **중복 파일 다수**: `_simple`, `_fixed`, `_temp`, `_direct`, `_v2` 등 접미사로 분기된 파일이 많아 유지보수 혼란.
- **API 라우터 중복/불일치**: games, game_api, game_api_v2 등 유사 기능이 여러 파일에 분산되어 일관성 저하.
- **환경/설정 파일 중복**: config.py, config_simple.py 등 환경설정이 분리되어 통합 배포/운영에 문제.
- **풀스택 연결 오류**: 프론트-백엔드, DB, 인증 등 연결이 불안정하거나 일부 경로가 동작하지 않음.
- **문서/스펙 불일치**: README, API 문서, 실제 코드가 다름.

---

## 2. 통합 및 정비 원칙

- **단일 진입점/단일 소스 유지**: 동일 목적의 파일은 하나만 남기고, 개선점은 통합.
- **모듈별 책임 명확화**: 인증, 게임, 유저, 관리 등 도메인별로 라우터/서비스/스키마 분리.
- **환경설정 일원화**: config.py 하나로 통합, .env 사용 권장.
- **API 스펙/문서 자동화**: OpenAPI/Swagger 기반 문서 자동 생성.
- **테스트/배포 자동화**: 통합 테스트, CI/CD 파이프라인 구축.

---

## 3. 단계별 통합/정비 체크리스트

### 1) 중복 파일 정리
- [x] *_simple.py, *_fixed.py, *_temp.py, *_direct.py, *_v2.py 등 불필요 파일 삭제
- [x] main.py, auth.py, games.py 등 핵심 파일만 남기고 통합
- [x] config.py, dependencies.py 등 환경/의존성 파일 단일화

### 2) API 라우터/스키마 통합
- [x] games.py에 game_api, game_api_v2 기능 병합
- [x] auth.py에 simple/clean/temp 기능 병합
- [x] 스키마 정의 (game_schemas.py 등) 중복 제거 및 통일
- [ ] OpenAPI 스펙 재생성 및 문서화

### 3) 환경설정/배포 통합
- [x] config.py 단일화 및 .env 적용
- [ ] docker-compose.yml, requirements.txt 등 배포 파일 정비
- [ ] README/가이드 최신화

### 4) 풀스택 연결성 점검
- [ ] 프론트엔드-백엔드 API 경로/스펙 일치 확인
- [ ] DB 마이그레이션/초기화 스크립트 점검
- [ ] 인증/권한/세션 연동 테스트

### 5) 테스트/자동화
- [ ] 통합 테스트 코드 작성 (pytest 등)
- [ ] CI/CD 파이프라인 구축 (GitHub Actions 등)

---

## 4. 베스트 프랙티스 & 주의사항

- **모든 통합/삭제 작업 전 git backup 브랜치 생성**
- **통합 후 반드시 전체 테스트/로컬 실행 검증**
- **API 변경 시 프론트엔드/문서/테스트 코드 동시 수정**
- **불필요한 주석/코드/파일은 즉시 제거**
- **문서(README, API docs) 최신 상태 유지**

---

## 5. 참고 문서
- FILE_CONSOLIDATION_REPORT.md
- file-comparison-report.md
- README-SIMPLE.md

---

## 6. 빠른 점검용 체크리스트 (복붙용)

- [ ] 중복 파일/모듈 모두 삭제
- [ ] 핵심 라우터/서비스/스키마만 남겼는지 확인
- [ ] config.py/.env만 남기고 환경설정 통일
- [ ] API 문서/스펙 최신화
- [ ] 프론트-백엔드 연결 정상 동작 확인
- [ ] 전체 테스트 통과
- [ ] git commit/backup 완료

---

> 문의/이슈: 담당자 또는 README 참고
