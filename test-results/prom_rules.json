{"status":"success","data":{"groups":[{"name":"invite-code-rotation","file":"/etc/prometheus/rules/invite_code_alerts.yml","rules":[{"state":"inactive","name":"ExcessiveUnknownInviteCodeAttempts","query":"sum(rate(app_invite_code_attempts_total{code!=\"5858\",status=\"invalid\"}[5m])) \u003e 50","duration":300,"keepFiringFor":0,"labels":{"severity":"critical","team":"auth"},"annotations":{"description":"ìµê·¼ 5ë¶ ëì ë¯¸íì© ì½ë invalid ìëìê° 50ê±´ ì´ê³¼. ê³µê²© ëë ì ì¶ ê°ë¥ì± ì¡°ì¬ íì.","summary":"íì©ëì§ ìì ì´ëì½ë ìë ê¸ì¦"},"alerts":[],"health":"ok","evaluationTime":0.000548352,"lastEvaluation":"2025-08-24T09:35:48.848191633Z","type":"alerting"},{"state":"inactive","name":"LegacyMasterCodeDropLowUsage","query":"(sum(increase(app_invite_code_signups_total{code=\"5858\"}[1d])) / sum(increase(app_invite_code_signups_total[1d]))) \u003c 0.05","duration":86400,"keepFiringFor":0,"labels":{"severity":"warning","team":"auth"},"annotations":{"description":"íì  ìë£ íë³´. 24ìê° ë´ 5858 ì¬ì© ë¹ì¨ 5% ë¯¸ë§. ì ì± ì í ê²í .","summary":"ë§ì¤í° ì½ë(5858) 24h ë¹ì¤ 5% ë¯¸ë§"},"alerts":[],"health":"ok","evaluationTime":0.000188688,"lastEvaluation":"2025-08-24T09:35:48.848746517Z","type":"alerting"},{"state":"inactive","name":"NewInviteCodeAdoptionLow","query":"sum(increase(app_invite_code_signups_total{code!=\"5858\"}[1h])) \u003c 3","duration":3600,"keepFiringFor":0,"labels":{"severity":"info","team":"auth"},"annotations":{"description":"ì§ë 1ìê° ì ê· ì½ë ê¸°ë° ê°ì 3ê±´ ë¯¸ë§. íë³´ ëë ë°°í¬ ë¬¸ì  ì ê².","summary":"ì ê· ì´ëì½ë 1h ì±í ì ì¡°"},"alerts":[],"health":"ok","evaluationTime":0.000071906,"lastEvaluation":"2025-08-24T09:35:48.848940215Z","type":"alerting"}],"interval":30,"limit":0,"evaluationTime":0.000881524,"lastEvaluation":"2025-08-24T09:35:48.848133383Z"},{"name":"kafka_consumer_health","file":"/etc/prometheus/rules/kafka_alerts.yml","rules":[{"state":"inactive","name":"KafkaHighConsumerLag","query":"sum by (consumergroup) (kafka_consumergroup_lag) \u003e 1000","duration":300,"keepFiringFor":0,"labels":{"service":"kafka","severity":"warning"},"annotations":{"description":"Consumer group {{ $labels.consumergroup }} has lag {{ $value }} (>1000) for over 5m.","summary":"High Kafka consumer lag detected"},"alerts":[],"health":"ok","evaluationTime":0.000251247,"lastEvaluation":"2025-08-24T09:35:50.991569384Z","type":"alerting"},{"state":"pending","name":"KafkaExporterDown","query":"up{job=\"kafka-exporter\"} == 0","duration":120,"keepFiringFor":0,"labels":{"service":"kafka","severity":"critical"},"annotations":{"description":"kafka-exporter target is not up for more than 2 minutes.","summary":"Kafka Exporter is down"},"alerts":[{"labels":{"alertname":"KafkaExporterDown","instance":"cc_kafka_exporter:9308","job":"kafka-exporter","service":"kafka","severity":"critical"},"annotations":{"description":"kafka-exporter target is not up for more than 2 minutes.","summary":"Kafka Exporter is down"},"state":"pending","activeAt":"2025-08-24T09:34:30.992446149Z","value":"0e+00"}],"health":"ok","evaluationTime":0.000234064,"lastEvaluation":"2025-08-24T09:35:50.9918254Z","type":"alerting"}],"interval":10,"limit":0,"evaluationTime":0.000578359,"lastEvaluation":"2025-08-24T09:35:50.99148331Z"},{"name":"purchase-health","file":"/etc/prometheus/rules/purchase_alerts.yml","rules":[{"state":"inactive","name":"PurchaseFailureRateHigh","query":"sum(rate(purchase_attempt_total{result=\"fail\"}[5m])) / clamp_min(sum(rate(purchase_attempt_total{result=~\"success|fail\"}[5m])), 0.000000001) \u003e 0.02","duration":600,"keepFiringFor":0,"labels":{"severity":"warning","team":"shop"},"annotations":{"description":"5m average failure rate > 2% for 10m. Check PSP/network/scripts.","summary":"Purchase failure rate rising"},"alerts":[],"health":"ok","evaluationTime":0.000644902,"lastEvaluation":"2025-08-24T09:35:36.239168018Z","type":"alerting"},{"state":"inactive","name":"PurchasePendingSpike","query":"sum(increase(purchase_attempt_total{result=\"start\"}[10m])) - sum(increase(purchase_attempt_total{result=\"success\"}[10m])) - sum(increase(purchase_attempt_total{result=\"fail\"}[10m])) \u003e 20","duration":600,"keepFiringFor":0,"labels":{"severity":"critical","team":"shop"},"annotations":{"description":"Pending delta exceeds threshold for 10m. Investigate webhooks/settlement delays/external PSP state.","summary":"Purchase pending spike"},"alerts":[],"health":"ok","evaluationTime":0.000122622,"lastEvaluation":"2025-08-24T09:35:36.239819793Z","type":"alerting"},{"state":"inactive","name":"Http5xxRateHigh","query":"sum(rate(http_requests_total{job=\"cc-webapp-backend\",status=~\"5..\"}[5m])) / clamp_min(sum(rate(http_requests_total{job=\"cc-webapp-backend\"}[5m])), 0.000000001) \u003e 0.02","duration":300,"keepFiringFor":0,"labels":{"severity":"warning","team":"backend"},"annotations":{"description":"5m 5xx ratio > 2%. Check recent deploy/DB/cache.","summary":"HTTP 5xx rate high"},"alerts":[],"health":"ok","evaluationTime":0.000180021,"lastEvaluation":"2025-08-24T09:35:36.23994484Z","type":"alerting"},{"state":"inactive","name":"HttpLatencyP95High","query":"histogram_quantile(0.95, sum by (le) (rate(http_requests_duration_seconds_bucket{job=\"cc-webapp-backend\"}[5m]))) \u003e 0.8","duration":600,"keepFiringFor":0,"labels":{"severity":"warning","team":"backend"},"annotations":{"description":"10m P95 > 0.8s. Inspect slow queries/external APIs/locks.","summary":"HTTP P95 latency high"},"alerts":[],"health":"ok","evaluationTime":0.000086944,"lastEvaluation":"2025-08-24T09:35:36.240127797Z","type":"alerting"}],"interval":30,"limit":0,"evaluationTime":0.001134961,"lastEvaluation":"2025-08-24T09:35:36.239083558Z"}]}}
